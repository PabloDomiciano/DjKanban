{% extends 'modelo.html' %}
{% load static %}

{% block extrahead %}
<link rel="stylesheet" href="{% static 'form_modelo.css' %}">
{% endblock %}

{% block conteudo %}
<div class="form-container compact">
  <form class="modern-form" method="POST" id="task-form">
    <!-- Cabeçalho -->
    <div class="form-header">
      <div class="form-icon">
        <i class="fas fa-tasks"></i>
      </div>
      <div class="form-header-content">
        <h2>{{ title }}</h2>
        <p>Preencha os detalhes abaixo</p>
      </div>
    </div>

    {% csrf_token %}
    
    {% if form.non_field_errors %}
    <div class="form-errors">
      {% for error in form.non_field_errors %}
        {{ error }}
      {% endfor %}
    </div>
    {% endif %}

    <!-- Campos do formulário com divs separadas -->
    <div class="fields-grid">
      
      <!-- Div para Título -->
      <div class="input-group">
        <div class="form-group field-titulo">
          <div class="input-label">
            {{ form.titulo.label_tag }}
          </div>
          <div class="input-field">
            {{ form.titulo }}
          </div>
          {% if form.titulo.help_text %}
          <div class="input-help">
            <small class="help-text">{{ form.titulo.help_text }}</small>
          </div>
          {% endif %}
          {% for error in form.titulo.errors %}
          <div class="input-error">
            <div class="field-error">{{ error }}</div>
          </div>
          {% endfor %}
        </div>
      </div>

      <!-- Div para Descrição -->
      <div class="input-group">
        <div class="form-group field-descricao">
          <div class="input-label">
            {{ form.descricao.label_tag }}
          </div>
          <div class="input-field">
            {{ form.descricao }}
          </div>
          {% if form.descricao.help_text %}
          <div class="input-help">
            <small class="help-text">{{ form.descricao.help_text }}</small>
          </div>
          {% endif %}
          {% for error in form.descricao.errors %}
          <div class="input-error">
            <div class="field-error">{{ error }}</div>
          </div>
          {% endfor %}
        </div>
      </div>

      <!-- Container para Prioridade e Status -->
      <div class="dual-input-container">
        
        <!-- Div para Prioridade -->
        <div class="input-group">
          <div class="form-group field-prioridade">
            <div class="input-label">
              {{ form.prioridade.label_tag }}
            </div>
            <div class="input-field">
              {{ form.prioridade }}
            </div>
            {% if form.prioridade.help_text %}
            <div class="input-help">
              <small class="help-text">{{ form.prioridade.help_text }}</small>
            </div>
            {% endif %}
            {% for error in form.prioridade.errors %}
            <div class="input-error">
              <div class="field-error">{{ error }}</div>
            </div>
            {% endfor %}
          </div>
        </div>

        <!-- Div para Status -->
        <div class="input-group">
          <div class="form-group field-status">
            <div class="input-label">
              {{ form.status.label_tag }}
            </div>
            <div class="input-field">
              {{ form.status }}
            </div>
            {% if form.status.help_text %}
            <div class="input-help">
              <small class="help-text">{{ form.status.help_text }}</small>
            </div>
            {% endif %}
            {% for error in form.status.errors %}
            <div class="input-error">
              <div class="field-error">{{ error }}</div>
            </div>
            {% endfor %}
          </div>
        </div>

      </div>

      <!-- Container para Data e Responsável -->
      <div class="dual-input-container">
        
        <!-- Div para Data de Vencimento -->
        <div class="input-group">
          <div class="form-group field-data_vencimento">
            <div class="input-label">
              {{ form.data_vencimento.label_tag }}
            </div>
            <div class="input-field">
              {{ form.data_vencimento }}
            </div>
            {% if form.data_vencimento.help_text %}
            <div class="input-help">
              <small class="help-text">{{ form.data_vencimento.help_text }}</small>
            </div>
            {% endif %}
            {% for error in form.data_vencimento.errors %}
            <div class="input-error">
              <div class="field-error">{{ error }}</div>
            </div>
            {% endfor %}
          </div>
        </div>

        <!-- Div para Responsável -->
        <div class="input-group">
          <div class="form-group field-responsavel">
            <div class="input-label">
              {{ form.responsavel.label_tag }}
            </div>
            <div class="input-field">
              {{ form.responsavel }}
            </div>
            {% if form.responsavel.help_text %}
            <div class="input-help">
              <small class="help-text">{{ form.responsavel.help_text }}</small>
            </div>
            {% endif %}
            {% for error in form.responsavel.errors %}
            <div class="input-error">
              <div class="field-error">{{ error }}</div>
            </div>
            {% endfor %}
          </div>
        </div>

      </div>

    </div>

    <!-- Rodapé -->
    <div class="form-footer">
      <div class="form-actions">
        <button type="button" class="btn btn-outline" id="clear-form">
          <i class="fas fa-eraser"></i> Limpar
        </button>
        <button type="submit" class="btn btn-primary" id="submit-form">
          <i class="fas fa-save"></i> Salvar Tarefa
        </button>
      </div>
    </div>
  </form>
</div>
{% endblock %}

{% block column %}
{% endblock %}


{% block scripts %}
<script src="{% static 'form_modelo.js' %}"></script>
{% endblock %}